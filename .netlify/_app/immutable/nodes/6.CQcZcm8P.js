import{s as K,n as ee,o as _e,B as oe,a as G,e as se,c as Ce}from"../chunks/scheduler.B0z7vNaY.js";import{S as W,i as $,e as v,t as T,s as x,c as q,a as I,b as B,d,f as A,k as F,v as C,g as O,h as u,j as R,B as ze,D as de,l as D,m as H,n as J,o as S,p as L,q as V,r as ge,u as pe,z as be,x as ve}from"../chunks/index.CG6jpaJ_.js";import{p as Ie}from"../chunks/stores.DXXgd_gz.js";import{c as Qe}from"../chunks/supabase.ClzCg_sb.js";import{e as fe}from"../chunks/each.D6YF6ztN.js";import{I as qe,g as we,a as ke}from"../chunks/IconBase.DzvhVGlv.js";import{F as Ee}from"../chunks/FaSpinner.D1gF_R9o.js";function he(r,e,n){const t=r.slice();return t[8]=e[n],t[10]=n,t}function me(r){let e,n,t,l,s,o,i=r[8].answer+"",a,f,c,h,_;function m(){return r[6](r[10])}return{c(){e=v("div"),n=v("button"),t=v("input"),s=x(),o=v("h4"),a=T(i),f=x(),this.h()},l(z){e=q(z,"DIV",{class:!0});var w=I(e);n=q(w,"BUTTON",{class:!0});var j=I(n);t=q(j,"INPUT",{type:!0,class:!0}),s=A(j),o=q(j,"H4",{class:!0});var Q=I(o);a=B(Q,i),Q.forEach(d),j.forEach(d),f=A(w),w.forEach(d),this.h()},h(){C(t,"type","radio"),t.checked=l=r[8].clicked,C(t,"class","self-center"),C(o,"class","mx-2"),C(n,"class",oe(" px-2 flex flex-row  rounded w-[100%] ")+" svelte-qhsvhr"),C(e,"class",c=oe(`${r[8].clicked?r[8].clicked===!0&&r[8].is_correct?"correct":"wrong":"default"} rounded flex flex-row justify-start w-[90%] m-auto py-2 border border-transparent transition ease-in hover:border-[1px] hover:border-slate-500 hover:bg-slate-200`)+" svelte-qhsvhr")},m(z,w){O(z,e,w),u(e,n),u(n,t),u(n,s),u(n,o),u(o,a),u(e,f),h||(_=de(n,"click",m),h=!0)},p(z,w){r=z,w&2&&l!==(l=r[8].clicked)&&(t.checked=l),w&2&&i!==(i=r[8].answer+"")&&R(a,i),w&2&&c!==(c=oe(`${r[8].clicked?r[8].clicked===!0&&r[8].is_correct?"correct":"wrong":"default"} rounded flex flex-row justify-start w-[90%] m-auto py-2 border border-transparent transition ease-in hover:border-[1px] hover:border-slate-500 hover:bg-slate-200`)+" svelte-qhsvhr")&&C(e,"class",c)},d(z){z&&d(e),h=!1,_()}}}function ye(r){let e,n,t,l,s,o,i,a,f,c,h,_,m,z,w,j="",Q=fe(r[1]),g=[];for(let p=0;p<Q.length;p+=1)g[p]=me(he(r,Q,p));return{c(){e=v("section"),n=v("h2"),t=T(r[0]),l=x(),s=v("p"),o=T("Attempt: "),i=T(r[3]),a=x(),f=v("p"),c=T("Score: "),h=T(r[4]),_=x(),m=v("div");for(let p=0;p<g.length;p+=1)g[p].c();z=x(),w=v("div"),w.innerHTML=j,this.h()},l(p){e=q(p,"SECTION",{class:!0});var b=I(e);n=q(b,"H2",{class:!0});var k=I(n);t=B(k,r[0]),k.forEach(d),l=A(b),s=q(b,"P",{});var N=I(s);o=B(N,"Attempt: "),i=B(N,r[3]),N.forEach(d),a=A(b),f=q(b,"P",{});var P=I(f);c=B(P,"Score: "),h=B(P,r[4]),P.forEach(d),_=A(b),m=q(b,"DIV",{class:!0});var M=I(m);for(let U=0;U<g.length;U+=1)g[U].l(M);M.forEach(d),z=A(b),w=q(b,"DIV",{"data-svelte-h":!0}),F(w)!=="svelte-tjcche"&&(w.innerHTML=j),b.forEach(d),this.h()},h(){C(n,"class","mb-6"),C(m,"class","grid grid-cols-2 grid-rows-2 w-[50%] m-auto gap-2 "),C(e,"class","text-center")},m(p,b){O(p,e,b),u(e,n),u(n,t),u(e,l),u(e,s),u(s,o),u(s,i),u(e,a),u(e,f),u(f,c),u(f,h),u(e,_),u(e,m);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(m,null);u(e,z),u(e,w)},p(p,[b]){if(b&1&&R(t,p[0]),b&8&&R(i,p[3]),b&16&&R(h,p[4]),b&6){Q=fe(p[1]);let k;for(k=0;k<Q.length;k+=1){const N=he(p,Q,k);g[k]?g[k].p(N,b):(g[k]=me(N),g[k].c(),g[k].m(m,null))}for(;k<g.length;k+=1)g[k].d(1);g.length=Q.length}},i:ee,o:ee,d(p){p&&d(e),ze(g,p)}}}function xe(r,e,n){let{question:t}=e,{questionAnswers:l}=e,{handleCompare:s}=e,{handleClick:o}=e,{attemptPerQuestion:i}=e,{score:a}=e;_e(()=>{console.log(l)});const f=c=>s(c);return r.$$set=c=>{"question"in c&&n(0,t=c.question),"questionAnswers"in c&&n(1,l=c.questionAnswers),"handleCompare"in c&&n(2,s=c.handleCompare),"handleClick"in c&&n(5,o=c.handleClick),"attemptPerQuestion"in c&&n(3,i=c.attemptPerQuestion),"score"in c&&n(4,a=c.score)},[t,l,s,i,a,o,f]}class Ae extends W{constructor(e){super(),$(this,e,xe,ye,K,{question:0,questionAnswers:1,handleCompare:2,handleClick:5,attemptPerQuestion:3,score:4})}}function Pe(r){let e;return{c(){e=ge("path"),this.h()},l(n){e=pe(n,"path",{d:!0}),I(e).forEach(d),this.h()},h(){C(e,"d","M497.94 74.17l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91zm-246.8-20.53c-15.62-15.62-40.94-15.62-56.56 0L75.8 172.43c-6.25 6.25-6.25 16.38 0 22.62l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l101.82-101.82 22.63 22.62L93.95 290.03A327.038 327.038 0 0 0 .17 485.11l-.03.23c-1.7 15.28 11.21 28.2 26.49 26.51a327.02 327.02 0 0 0 195.34-93.8l196.79-196.79-82.77-82.77-84.85-84.85z")},m(n,t){O(n,e,t)},p:ee,d(n){n&&d(e)}}}function Se(r){let e,n;const t=[{viewBox:"0 0 512 512"},r[0]];let l={$$slots:{default:[Pe]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=G(l,t[s]);return e=new qe({props:l}),{c(){D(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){J(e,s,o),n=!0},p(s,[o]){const i=o&1?we(t,[t[0],ke(s[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){L(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function Le(r,e,n){return r.$$set=t=>{n(0,e=G(G({},e),se(t)))},e=se(e),[e]}class je extends W{constructor(e){super(),$(this,e,Le,Se,K,{})}}function Me(r){let e;return{c(){e=ge("path"),this.h()},l(n){e=pe(n,"path",{d:!0}),I(e).forEach(d),this.h()},h(){C(e,"d","M256 128c35.35 0 64-28.65 64-64S291.35 0 256 0s-64 28.65-64 64 28.65 64 64 64zm-30.63 169.75c14.06 16.72 39 19.09 55.97 5.22l88-72.02c17.09-13.98 19.59-39.19 5.62-56.28-13.97-17.11-39.19-19.59-56.31-5.62l-57.44 47-38.91-46.31c-15.44-18.39-39.22-27.92-64-25.33-24.19 2.48-45.25 16.27-56.37 36.92l-49.37 92.03c-23.4 43.64-8.69 96.37 34.19 123.75L131.56 432H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h208c34.08 0 53.77-42.79 28.28-68.28L166.42 333.86l34.8-64.87 24.15 28.76z")},m(n,t){O(n,e,t)},p:ee,d(n){n&&d(e)}}}function Ne(r){let e,n;const t=[{viewBox:"0 0 384 512"},r[0]];let l={$$slots:{default:[Me]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)l=G(l,t[s]);return e=new qe({props:l}),{c(){D(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,o){J(e,s,o),n=!0},p(s,[o]){const i=o&1?we(t,[t[0],ke(s[0])]):{};o&2&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){L(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function Te(r,e,n){return r.$$set=t=>{n(0,e=G(G({},e),se(t)))},e=se(e),[e]}class Be extends W{constructor(e){super(),$(this,e,Te,Ne,K,{})}}function Ze(r){let e,n,t="Congratulations!",l,s,o="You Answered:",i,a,f,c,h,_,m,z,w,j,Q,g,p,b,k="Questions correct",N,P,M,U="Play Again",re,Z,ae="Back Home",X,le,ie;return c=new Be({}),g=new je({}),{c(){e=v("main"),n=v("h1"),n.textContent=t,l=x(),s=v("p"),s.textContent=o,i=x(),a=v("div"),f=v("div"),D(c.$$.fragment),h=x(),_=v("p"),m=T(r[0]),z=T("/"),w=T(r[2]),j=x(),Q=v("div"),D(g.$$.fragment),p=x(),b=v("p"),b.textContent=k,N=x(),P=v("section"),M=v("button"),M.textContent=U,re=x(),Z=v("a"),Z.textContent=ae,this.h()},l(y){e=q(y,"MAIN",{class:!0});var E=I(e);n=q(E,"H1",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-jkfwny"&&(n.textContent=t),l=A(E),s=q(E,"P",{"data-svelte-h":!0}),F(s)!=="svelte-n4w09c"&&(s.textContent=o),i=A(E),a=q(E,"DIV",{class:!0});var Y=I(a);f=q(Y,"DIV",{class:!0});var ce=I(f);H(c.$$.fragment,ce),ce.forEach(d),h=A(Y),_=q(Y,"P",{class:!0});var te=I(_);m=B(te,r[0]),z=B(te,"/"),w=B(te,r[2]),te.forEach(d),j=A(Y),Q=q(Y,"DIV",{class:!0});var ue=I(Q);H(g.$$.fragment,ue),ue.forEach(d),Y.forEach(d),p=A(E),b=q(E,"P",{"data-svelte-h":!0}),F(b)!=="svelte-rfdsqr"&&(b.textContent=k),N=A(E),P=q(E,"SECTION",{class:!0});var ne=I(P);M=q(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),F(M)!=="svelte-mix9s1"&&(M.textContent=U),re=A(ne),Z=q(ne,"A",{href:!0,class:!0,"data-svelte-h":!0}),F(Z)!=="svelte-1b5g8bd"&&(Z.textContent=ae),ne.forEach(d),E.forEach(d),this.h()},h(){C(n,"class","text-4xl font-semibold"),C(f,"class","w-[5rem] h-[5rem]"),C(_,"class","text-3xl font-bold text-slate-500 self-center"),C(Q,"class","w-[5rem] h-[5rem]"),C(a,"class","flex flex-row justify-center gap-8"),C(M,"class","w-[auto] h-[auto] hover rounded-lg m-auto border-black border-[1px] bg-sky-400 text-slate-200 px-4 py-2 transition ease-in hover:bg-sky-600 "),C(Z,"href","/"),C(Z,"class","w-[auto] h-[auto] hover rounded-lg m-auto border-black border-[1px] bg-slate-200 px-4 py-2 transition ease-in hover:bg-slate-400 "),C(P,"class","h-[auto] w-[30%] m-auto flex flex-row justify-center"),C(e,"class","text-center my-12 flex flex-col gap-4 ")},m(y,E){O(y,e,E),u(e,n),u(e,l),u(e,s),u(e,i),u(e,a),u(a,f),J(c,f,null),u(a,h),u(a,_),u(_,m),u(_,z),u(_,w),u(a,j),u(a,Q),J(g,Q,null),u(e,p),u(e,b),u(e,N),u(e,P),u(P,M),u(P,re),u(P,Z),X=!0,le||(ie=de(M,"click",r[3]),le=!0)},p(y,[E]){(!X||E&1)&&R(m,y[0]),(!X||E&4)&&R(w,y[2])},i(y){X||(S(c.$$.fragment,y),S(g.$$.fragment,y),X=!0)},o(y){L(c.$$.fragment,y),L(g.$$.fragment,y),X=!1},d(y){y&&d(e),V(c),V(g),le=!1,ie()}}}function De(r,e,n){let{totalScore:t}=e,{restartQuiz:l}=e,{quizLength:s}=e;const o=()=>l();return r.$$set=i=>{"totalScore"in i&&n(0,t=i.totalScore),"restartQuiz"in i&&n(1,l=i.restartQuiz),"quizLength"in i&&n(2,s=i.quizLength)},[t,l,s,o]}class He extends W{constructor(e){super(),$(this,e,De,Ze,K,{totalScore:0,restartQuiz:1,quizLength:2})}}function Je(r){let e,n;return e=new Ae({props:{score:r[1],handleClick:r[6],attemptPerQuestion:r[3],handleCompare:r[5],question:r[4][r[0]].question_text,questionAnswers:r[4][r[0]].question_answers}}),{c(){D(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,l){J(e,t,l),n=!0},p(t,l){const s={};l&2&&(s.score=t[1]),l&8&&(s.attemptPerQuestion=t[3]),l&17&&(s.question=t[4][t[0]].question_text),l&17&&(s.questionAnswers=t[4][t[0]].question_answers),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ve(r){let e,n;return e=new He({props:{quizLength:r[4].length,restartQuiz:r[7],totalScore:r[1]}}),{c(){D(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,l){J(e,t,l),n=!0},p(t,l){const s={};l&16&&(s.quizLength=t[4].length),l&2&&(s.totalScore=t[1]),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Oe(r){let e,n,t,l;const s=[Ve,Je],o=[];function i(a,f){return a[2]?0:1}return n=i(r),t=o[n]=s[n](r),{c(){e=v("main"),t.c()},l(a){e=q(a,"MAIN",{});var f=I(e);t.l(f),f.forEach(d)},m(a,f){O(a,e,f),o[n].m(e,null),l=!0},p(a,[f]){let c=n;n=i(a),n===c?o[n].p(a,f):(be(),L(o[c],1,1,()=>{o[c]=null}),ve(),t=o[n],t?t.p(a,f):(t=o[n]=s[n](a),t.c()),S(t,1),t.m(e,null))},i(a){l||(S(t),l=!0)},o(a){L(t),l=!1},d(a){a&&d(e),o[n].d()}}}function Fe(r,e,n){let t=0,l=0,s=!1,{quizQuestions:o}=e,i=2,a=o;const f=()=>n(0,t++,t),c=async m=>{a[t].question_answers[m].clicked||a[t].question_answers[m].clicked||(n(4,a[t].question_answers=a[t].question_answers.map((z,w)=>w===m?{...z,clicked:!0}:z),a),a[t].question_answers[m].is_correct&&t<=a.length-1?(n(1,l++,l),n(3,i=2),setTimeout(f,1e3)):a[t].question_answers[m].is_correct?t===a.length-1&&n(2,s=!0):t<=a.length-1&&i>0?n(3,i--,i):t<=a.length-1&&i===0&&(n(0,t++,t),n(3,i=2)))};function h(){t<a.length-1?n(0,t++,t):n(2,s=!0)}function _(){n(0,t=0),n(1,l=0),n(2,s=!1),n(3,i=o.length-1),n(4,a=a.map(m=>({...m,question_answers:m.question_answers.map(z=>({...z,clicked:!1}))})))}return r.$$set=m=>{"quizQuestions"in m&&n(8,o=m.quizQuestions)},[t,l,s,i,a,c,h,_,o]}class Ue extends W{constructor(e){super(),$(this,e,Fe,Oe,K,{quizQuestions:8})}}function Xe(r){let e,n,t;return n=new Ee({}),{c(){e=v("div"),D(n.$$.fragment),this.h()},l(l){e=q(l,"DIV",{class:!0});var s=I(e);H(n.$$.fragment,s),s.forEach(d),this.h()},h(){C(e,"class","animate-spin w-[5rem] h-[5rem] m-auto")},m(l,s){O(l,e,s),J(n,e,null),t=!0},p:ee,i(l){t||(S(n.$$.fragment,l),t=!0)},o(l){L(n.$$.fragment,l),t=!1},d(l){l&&d(e),V(n)}}}function Ye(r){let e,n;return e=new Ue({props:{quizQuestions:r[0]}}),{c(){D(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,l){J(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.quizQuestions=t[0]),e.$set(s)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Re(r){let e,n,t="You have a limited amount of time for Questions",l,s,o,i;const a=[Ye,Xe],f=[];function c(h,_){return h[0]?0:1}return s=c(r),o=f[s]=a[s](r),{c(){e=v("section"),n=v("h1"),n.textContent=t,l=x(),o.c(),this.h()},l(h){e=q(h,"SECTION",{});var _=I(e);n=q(_,"H1",{class:!0,"data-svelte-h":!0}),F(n)!=="svelte-99sq0b"&&(n.textContent=t),l=A(_),o.l(_),_.forEach(d),this.h()},h(){C(n,"class","m-auto text-center py-4")},m(h,_){O(h,e,_),u(e,n),u(e,l),f[s].m(e,null),i=!0},p(h,[_]){let m=s;s=c(h),s===m?f[s].p(h,_):(be(),L(f[m],1,1,()=>{f[m]=null}),ve(),o=f[s],o?o.p(h,_):(o=f[s]=a[s](h),o.c()),S(o,1),o.m(e,null))},i(h){i||(S(o),i=!0)},o(h){L(o),i=!1},d(h){h&&d(e),f[s].d()}}}function Ge(r,e,n){let t;Ce(r,Ie,c=>n(1,t=c));let l,s;const a=Qe("https://vzcllffexqjuhpsvbmtw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6Y2xsZmZleHFqdWhwc3ZibXR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjIzMTUyNjcsImV4cCI6MjAzNzg5MTI2N30.qBJD8-lbXfZhZX3pxhI2lPgAkdL9oZ8mzJNX8LwGYrA");async function f(){let{data:c,error:h}=await a.from("question_table").select("form_id, question_id, question_text, creator_id, question_answers(answer_id, question_ans_id, answer, is_correct, clicked)").eq("form_id",s);h&&console.log(h),n(0,l=c)}return _e(async()=>{f()}),r.$$.update=()=>{r.$$.dirty&2&&(s=t.params.quizId)},[l,t]}class rt extends W{constructor(e){super(),$(this,e,Ge,Re,K,{})}}export{rt as component};
