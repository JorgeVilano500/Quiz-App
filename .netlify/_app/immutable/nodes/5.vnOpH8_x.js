import{s as pe,a as se,e as de,n as ke,o as Ee,r as me,c as Be,i as Le}from"../chunks/scheduler.B0z7vNaY.js";import{S as _e,i as ve,l as re,m as ne,n as ae,o as X,p as Z,q as oe,r as Ie,u as xe,a as D,d as E,v as u,g as F,e as _,s as T,c as v,k as H,f as U,h as o,z as Te,x as Ue,B as Se,t as te,b as le,C as A,D as M,j as he}from"../chunks/index.CG6jpaJ_.js";import{s as K}from"../chunks/supabase.ClzCg_sb.js";import{u as fe}from"../chunks/userStore.B6yXy6i9.js";import{e as be}from"../chunks/each.D6YF6ztN.js";import{I as ze,g as Ne,a as Pe}from"../chunks/IconBase.DzvhVGlv.js";function qe(s){let e;return{c(){e=Ie("path"),this.h()},l(t){e=xe(t,"path",{d:!0}),D(e).forEach(E),this.h()},h(){u(e,"d","M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z")},m(t,r){F(t,e,r)},p:ke,d(t){t&&E(e)}}}function Ve(s){let e,t;const r=[{viewBox:"0 0 512 512"},s[0]];let d={$$slots:{default:[qe]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)d=se(d,r[l]);return e=new ze({props:d}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,[n]){const f=n&1?Ne(r,[r[0],Pe(l[0])]):{};n&2&&(f.$$scope={dirty:n,ctx:l}),e.$set(f)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Oe(s,e,t){return s.$$set=r=>{t(0,e=se(se({},e),de(r)))},e=de(e),[e]}class Me extends _e{constructor(e){super(),ve(this,e,Oe,Ve,pe,{})}}function we(s,e,t){const r=s.slice();return r[17]=e[t],r[18]=e,r[19]=t,r}function $e(s){let e,t,r=s[19]+1+"",d,l,n,f=(s[4]?s[4]:s[17].quiz_name)+"",a,i,c;return{c(){e=_("p"),t=_("span"),d=te(r),l=T(),n=_("span"),a=te(f),this.h()},l(m){e=v(m,"P",{class:!0});var h=D(e);t=v(h,"SPAN",{class:!0});var b=D(t);d=le(b,r),b.forEach(E),l=U(h),n=v(h,"SPAN",{class:!0});var O=D(n);a=le(O,f),O.forEach(E),h.forEach(E),this.h()},h(){u(t,"class","bg-slate-500 p-1 rounded "),u(n,"class","w-[100%] self-center truncate"),u(e,"class","flex flex-row gap-2 w-[11rem] h-[2rem] ")},m(m,h){F(m,e,h),o(e,t),o(t,d),o(e,l),o(e,n),o(n,a),i||(c=M(e,"dblclick",s[5]),i=!0)},p(m,h){h&20&&f!==(f=(m[4]?m[4]:m[17].quiz_name)+"")&&he(a,f)},d(m){m&&E(e),i=!1,c()}}}function je(s){let e,t,r,d="Update",l,n;function f(...i){return s[11](s[17],...i)}function a(...i){return s[12](s[17],...i)}return{c(){e=_("input"),t=T(),r=_("button"),r.textContent=d,this.h()},l(i){e=v(i,"INPUT",{type:!0}),t=U(i),r=v(i,"BUTTON",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-9sk6f8"&&(r.textContent=d),this.h()},h(){u(e,"type","text"),e.autofocus=!0,u(r,"class","bg-slate-300 py-1 px-1 rounded ")},m(i,c){F(i,e,c),A(e,s[4]),F(i,t,c),F(i,r,c),e.focus(),l||(n=[M(e,"input",s[10]),M(e,"keydown",f),M(r,"click",a)],l=!0)},p(i,c){s=i,c&16&&e.value!==s[4]&&A(e,s[4])},d(i){i&&(E(e),E(t),E(r)),l=!1,me(n)}}}function Ce(s){let e,t="Confirm",r,d;function l(...n){return s[15](s[17],...n)}return{c(){e=_("button"),e.textContent=t,this.h()},l(n){e=v(n,"BUTTON",{class:!0,placeholder:!0,"data-svelte-h":!0}),H(e)!=="svelte-82uory"&&(e.textContent=t),this.h()},h(){u(e,"class","w-[auto] p-1 rounded bg-green-300"),u(e,"placeholder","Confirm")},m(n,f){F(n,e,f),r||(d=M(e,"click",l),r=!0)},p(n,f){s=n},d(n){n&&E(e),r=!1,d()}}}function ye(s){let e,t,r,d,l,n,f,a,i,c,m=s[17].likes+"",h,b,O,N,S;function R(g,C){return g[3]?je:$e}let I=R(s),k=I(s);function y(){s[13].call(d,s[18],s[19])}function w(){return s[14](s[19])}let p=s[0]&&s[1]===s[19]&&Ce(s);return i=new Me({}),{c(){e=_("div"),k.c(),t=T(),r=_("section"),d=_("input"),l=T(),p&&p.c(),n=T(),f=_("section"),a=_("div"),re(i.$$.fragment),c=T(),h=te(m),b=T(),this.h()},l(g){e=v(g,"DIV",{class:!0});var C=D(e);k.l(C),t=U(C),r=v(C,"SECTION",{class:!0});var x=D(r);d=v(x,"INPUT",{type:!0,class:!0,"aria-label":!0}),l=U(x),p&&p.l(x),x.forEach(E),n=U(C),f=v(C,"SECTION",{class:!0});var V=D(f);a=v(V,"DIV",{class:!0});var B=D(a);ne(i.$$.fragment,B),B.forEach(E),c=U(V),h=le(V,m),V.forEach(E),b=U(C),C.forEach(E),this.h()},h(){u(d,"type","color"),u(d,"class","p-1 bg-slate-500 rounded self-center mx-2 h-[2rem] w-[2rem]"),u(d,"aria-label","Select a color"),u(r,"class","group flex flex-row justify-center"),u(a,"class","self-center w-[1rem] h-[1rem]"),u(f,"class","self-center flex flex-row gap-3 "),u(e,"class","bg-slate-200 w-[80%] mx-auto my-2 p-2 rounded-lg flex flex-row justify-between ")},m(g,C){F(g,e,C),k.m(e,null),o(e,t),o(e,r),o(r,d),A(d,s[17].color_hex),o(r,l),p&&p.m(r,null),o(e,n),o(e,f),o(f,a),ae(i,a,null),o(f,c),o(f,h),o(e,b),O=!0,N||(S=[M(d,"input",y),M(d,"change",w),M(d,"input",s[7])],N=!0)},p(g,C){s=g,I===(I=R(s))&&k?k.p(s,C):(k.d(1),k=I(s),k&&(k.c(),k.m(e,t))),C&4&&A(d,s[17].color_hex),s[0]&&s[1]===s[19]?p?p.p(s,C):(p=Ce(s),p.c(),p.m(r,null)):p&&(p.d(1),p=null),(!O||C&4)&&m!==(m=s[17].likes+"")&&he(h,m)},i(g){O||(X(i.$$.fragment,g),O=!0)},o(g){Z(i.$$.fragment,g),O=!1},d(g){g&&E(e),k.d(),p&&p.d(),oe(i),N=!1,me(S)}}}function Ae(s){let e,t,r="Your Quizzes",d,l,n,f=be(s[2]),a=[];for(let c=0;c<f.length;c+=1)a[c]=ye(we(s,f,c));const i=c=>Z(a[c],1,1,()=>{a[c]=null});return{c(){e=_("div"),t=_("h3"),t.textContent=r,d=T(),l=_("div");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=v(c,"DIV",{class:!0});var m=D(e);t=v(m,"H3",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-1rtip0k"&&(t.textContent=r),d=U(m),l=v(m,"DIV",{class:!0});var h=D(l);for(let b=0;b<a.length;b+=1)a[b].l(h);h.forEach(E),m.forEach(E),this.h()},h(){u(t,"class","m-2 font-semibold"),u(l,"class","w-[100%] h-[10rem] overflow-y-auto "),u(e,"class","w-[70%] bg-slate-400 rounded-lg mx-auto")},m(c,m){F(c,e,m),o(e,t),o(e,d),o(e,l);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(l,null);n=!0},p(c,[m]){if(m&511){f=be(c[2]);let h;for(h=0;h<f.length;h+=1){const b=we(c,f,h);a[h]?(a[h].p(b,m),X(a[h],1)):(a[h]=ye(b),a[h].c(),X(a[h],1),a[h].m(l,null))}for(Te(),h=f.length;h<a.length;h+=1)i(h);Ue()}},i(c){if(!n){for(let m=0;m<f.length;m+=1)X(a[m]);n=!0}},o(c){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)Z(a[m]);n=!1},d(c){c&&E(e),Se(a,c)}}}function Re(s,e,t){let{userInfo:r}=e,d=!1,l,n="#00000",f=[],a=!1,i;function c(){t(3,a=!a)}async function m(y,w){const p=y==null?void 0:y.currentTarget;if(y.key==="Enter"){t(3,a=!1);const g=p==null?void 0:p.value,{error:C}=await K.from("quizzes_table").update({quiz_name:g}).eq("quiz_id",w);C&&console.log(C.message)}}function h(y){const w=y.currentTarget;w&&(n=w.value,t(0,d=!0))}async function b(y,w){const{error:p}=await K.from("quizzes_table").update({color_hex:n}).eq("quiz_id",w);p?console.log("Quiz Color Edit Error",p.message):t(0,d=!1)}Ee(async()=>{var p,g;const{data:y,error:w}=await K.from("quizzes_table").select().eq("user_policy_id",(g=(p=r==null?void 0:r.data)==null?void 0:p.user)==null?void 0:g.id);console.log(y),w?console.log("User table Error",w.message):y&&t(2,f=y)});function O(){i=this.value,t(4,i)}const N=(y,w)=>m(w,y.quiz_id),S=(y,w)=>(y==null||y.quiz_id,void 0);function R(y,w){y[w].color_hex=this.value,t(2,f)}const I=y=>{t(0,d=!0),t(1,l=y)},k=(y,w)=>b(w,y.quiz_id);return s.$$set=y=>{"userInfo"in y&&t(9,r=y.userInfo)},[d,l,f,a,i,c,m,h,b,r,O,N,S,R,I,k]}class He extends _e{constructor(e){super(),ve(this,e,Re,Ae,pe,{userInfo:9})}}function Qe(s){let e;return{c(){e=Ie("path"),this.h()},l(t){e=xe(t,"path",{d:!0}),D(e).forEach(E),this.h()},h(){u(e,"d","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z")},m(t,r){F(t,e,r)},p:ke,d(t){t&&E(e)}}}function We(s){let e,t;const r=[{viewBox:"0 0 512 512"},s[0]];let d={$$slots:{default:[Qe]},$$scope:{ctx:s}};for(let l=0;l<r.length;l+=1)d=se(d,r[l]);return e=new ze({props:d}),{c(){re(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,[n]){const f=n&1?Ne(r,[r[0],Pe(l[0])]):{};n&2&&(f.$$scope={dirty:n,ctx:l}),e.$set(f)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){Z(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Fe(s,e,t){return s.$$set=r=>{t(0,e=se(se({},e),de(r)))},e=de(e),[e]}class De extends _e{constructor(e){super(),ve(this,e,Fe,We,pe,{})}}function Ye(s){let e,t,r,d,l,n,f='<h2 class="text-2xl font-semibold mb-1">Welcome to Truth &amp; Lies</h2> <p class="text-slate-500 text-">Register your account</p>',a,i,c,m="Display Name",h,b,O,N,S,R="Email",I,k,y,w,p="Password",g,C,x,V,B,z,P,Q="Sign In",q,L,G="Sign Up",$,J,ee;return r=new De({}),{c(){e=_("div"),t=_("div"),re(r.$$.fragment),d=T(),l=_("form"),n=_("section"),n.innerHTML=f,a=T(),i=_("div"),c=_("label"),c.textContent=m,h=T(),b=_("input"),O=T(),N=_("div"),S=_("label"),S.textContent=R,I=T(),k=_("input"),y=T(),w=_("label"),w.textContent=p,g=T(),C=_("div"),x=_("input"),V=T(),B=_("input"),z=T(),P=_("button"),P.textContent=Q,q=T(),L=_("button"),L.textContent=G,this.h()},l(j){e=v(j,"DIV",{class:!0});var Y=D(e);t=v(Y,"DIV",{class:!0});var ge=D(t);ne(r.$$.fragment,ge),ge.forEach(E),d=U(Y),l=v(Y,"FORM",{class:!0});var W=D(l);n=v(W,"SECTION",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-t5ityw"&&(n.innerHTML=f),a=U(W),i=v(W,"DIV",{class:!0});var ue=D(i);c=v(ue,"LABEL",{for:!0,"data-svelte-h":!0}),H(c)!=="svelte-1rukknj"&&(c.textContent=m),h=U(ue),b=v(ue,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ue.forEach(E),O=U(W),N=v(W,"DIV",{class:!0});var ie=D(N);S=v(ie,"LABEL",{for:!0,"data-svelte-h":!0}),H(S)!=="svelte-1p9d3fm"&&(S.textContent=R),I=U(ie),k=v(ie,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),ie.forEach(E),y=U(W),w=v(W,"LABEL",{for:!0,"data-svelte-h":!0}),H(w)!=="svelte-pepa0a"&&(w.textContent=p),g=U(W),C=v(W,"DIV",{class:!0});var ce=D(C);x=v(ce,"INPUT",{class:!0,name:!0,placeholder:!0}),V=U(ce),B=v(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(E),z=U(W),P=v(W,"BUTTON",{placeholder:!0,class:!0,"data-svelte-h":!0}),H(P)!=="svelte-xbev1y"&&(P.textContent=Q),q=U(W),L=v(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(L)!=="svelte-mnre1i"&&(L.textContent=G),W.forEach(E),Y.forEach(E),this.h()},h(){u(t,"class","h-[10rem] w-[50%] "),u(n,"class","mb-4"),u(c,"for","username"),u(b,"class","my-2 form-control rounded p-2 border-[1px] h-[100%] w-[100%] outline-none svelte-7ip0w8"),u(b,"name","username"),u(b,"type","text"),u(b,"placeholder","Display Name"),u(i,"class","flex flex-col w-[75%]"),u(S,"for","email"),u(k,"class","my-2 form-control rounded p-2 border-[1px] h-[100%] w-[100%] outline-none svelte-7ip0w8"),u(k,"name","username"),u(k,"type","text"),u(k,"placeholder","Email"),u(N,"class","flex flex-col w-[75%]"),u(w,"for","password"),u(x,"class","form-control h-[100%] w-[100%] outline-none svelte-7ip0w8"),u(x,"name","password"),u(x,"placeholder","Password"),u(B,"class","mr-2 "),u(B,"type","checkbox"),u(B,"placeholder","See Password"),u(C,"class","w-[75%] flex flex-row border-[1px] justify-between p-2 my-2 rounded"),u(P,"placeholder","Sign In"),u(P,"class","w-[25%] text-start"),u(L,"type","submit"),u(L,"class","rounded-[3rem] px-3 py-2 border border-transparent bg-slate-200 w-[25%] my-6 transition ease-in hover:bg-slate-400 hover:border-black hover:border-[1px]"),u(l,"class","flex flex-col w-[50%]"),u(e,"class","flex flex-row justify-center items-center h-[80vh]")},m(j,Y){F(j,e,Y),o(e,t),ae(r,t,null),o(e,d),o(e,l),o(l,n),o(l,a),o(l,i),o(i,c),o(i,h),o(i,b),A(b,s[3]),o(l,O),o(l,N),o(N,S),o(N,I),o(N,k),A(k,s[4]),o(l,y),o(l,w),o(l,g),o(l,C),o(C,x),A(x,s[5]),o(C,V),o(C,B),A(B,s[2]),B.checked=s[2],o(l,z),o(l,P),o(l,q),o(l,L),$=!0,J||(ee=[M(b,"input",s[15]),M(k,"input",s[16]),M(x,"input",s[17]),M(B,"click",s[8]),M(B,"change",s[18]),M(P,"click",s[7]),M(l,"submit",s[9])],J=!0)},p(j,Y){Y&8&&b.value!==j[3]&&A(b,j[3]),Y&16&&k.value!==j[4]&&A(k,j[4]),Y&32&&x.value!==j[5]&&A(x,j[5]),Y&4&&A(B,j[2]),Y&4&&(B.checked=j[2])},i(j){$||(X(r.$$.fragment,j),$=!0)},o(j){Z(r.$$.fragment,j),$=!1},d(j){j&&E(e),oe(r),J=!1,me(ee)}}}function Ge(s){let e,t,r,d,l,n,f='<h2 class="text-2xl font-semibold mb-1">Welcome to Truth &amp; Lies</h2> <p class="text-slate-500 text-">Log In and start Playing</p>',a,i,c,m="Email",h,b,O,N,S="Password",R,I,k,y,w,p,g,C="Register",x,V,B="Log In",z,P,Q;return r=new De({}),{c(){e=_("div"),t=_("div"),re(r.$$.fragment),d=T(),l=_("form"),n=_("section"),n.innerHTML=f,a=T(),i=_("div"),c=_("label"),c.textContent=m,h=T(),b=_("input"),O=T(),N=_("label"),N.textContent=S,R=T(),I=_("div"),k=_("input"),y=T(),w=_("input"),p=T(),g=_("button"),g.textContent=C,x=T(),V=_("button"),V.textContent=B,this.h()},l(q){e=v(q,"DIV",{class:!0});var L=D(e);t=v(L,"DIV",{class:!0});var G=D(t);ne(r.$$.fragment,G),G.forEach(E),d=U(L),l=v(L,"FORM",{class:!0});var $=D(l);n=v($,"SECTION",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-cbkmi7"&&(n.innerHTML=f),a=U($),i=v($,"DIV",{class:!0});var J=D(i);c=v(J,"LABEL",{for:!0,"data-svelte-h":!0}),H(c)!=="svelte-1p9d3fm"&&(c.textContent=m),h=U(J),b=v(J,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),J.forEach(E),O=U($),N=v($,"LABEL",{for:!0,"data-svelte-h":!0}),H(N)!=="svelte-pepa0a"&&(N.textContent=S),R=U($),I=v($,"DIV",{class:!0});var ee=D(I);k=v(ee,"INPUT",{class:!0,name:!0,placeholder:!0}),y=U(ee),w=v(ee,"INPUT",{class:!0,type:!0,placeholder:!0}),ee.forEach(E),p=U($),g=v($,"BUTTON",{placeholder:!0,class:!0,"data-svelte-h":!0}),H(g)!=="svelte-3haprv"&&(g.textContent=C),x=U($),V=v($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(V)!=="svelte-xeyjsb"&&(V.textContent=B),$.forEach(E),L.forEach(E),this.h()},h(){u(t,"class","h-[10rem] w-[50%] "),u(n,"class","mb-4"),u(c,"for","email"),u(b,"class","my-2 form-control rounded p-2 border-[1px] h-[100%] w-[100%] outline-none svelte-7ip0w8"),u(b,"name","username"),u(b,"type","text"),u(b,"placeholder","Email"),u(i,"class","flex flex-col w-[75%]"),u(N,"for","password"),u(k,"class","form-control h-[100%] w-[100%] outline-none svelte-7ip0w8"),u(k,"name","password"),u(k,"placeholder","Password"),u(w,"class","mr-2 "),u(w,"type","checkbox"),u(w,"placeholder","See Password"),u(I,"class","w-[75%] flex flex-row border-[1px] justify-between p-2 my-2 rounded"),u(g,"placeholder","Sign In"),u(g,"class","w-[25%] text-start"),u(V,"type","submit"),u(V,"class","rounded-[3rem] px-3 py-2 border border-transparent bg-slate-200 w-[25%] my-6 transition ease-in hover:bg-slate-400 hover:border-black hover:border-[1px]"),u(l,"class","flex flex-col w-[50%]"),u(e,"class","flex flex-row justify-center items-center h-[80vh]")},m(q,L){F(q,e,L),o(e,t),ae(r,t,null),o(e,d),o(e,l),o(l,n),o(l,a),o(l,i),o(i,c),o(i,h),o(i,b),A(b,s[4]),o(l,O),o(l,N),o(l,R),o(l,I),o(I,k),A(k,s[5]),o(I,y),o(I,w),A(w,s[2]),w.checked=s[2],o(l,p),o(l,g),o(l,x),o(l,V),z=!0,P||(Q=[M(b,"input",s[12]),M(k,"input",s[13]),M(w,"click",s[8]),M(w,"change",s[14]),M(g,"click",s[7]),M(l,"submit",s[10])],P=!0)},p(q,L){L&16&&b.value!==q[4]&&A(b,q[4]),L&32&&k.value!==q[5]&&A(k,q[5]),L&4&&A(w,q[2]),L&4&&(w.checked=q[2])},i(q){z||(X(r.$$.fragment,q),z=!0)},o(q){Z(r.$$.fragment,q),z=!1},d(q){q&&E(e),oe(r),P=!1,me(Q)}}}function Je(s){var g,C,x,V,B;let e,t,r,d,l,n,f=((g=s[0].data.user)==null?void 0:g.email)+"",a,i,c,m,h=(((C=s[6])==null?void 0:C.username)||((B=(V=(x=s[0])==null?void 0:x.data)==null?void 0:V.user)==null?void 0:B.email))+"",b,O,N,S,R,I,k="Log out",y,w,p;return S=new He({props:{userInfo:s[0]}}),{c(){e=_("section"),t=_("h3"),r=te("Welcome! "),d=_("br"),l=T(),n=_("span"),a=te(f),i=T(),c=_("p"),m=_("span"),b=te(h),O=te(" Edit your Quizzes"),N=T(),re(S.$$.fragment),R=T(),I=_("button"),I.textContent=k,this.h()},l(z){e=v(z,"SECTION",{class:!0});var P=D(e);t=v(P,"H3",{class:!0});var Q=D(t);r=le(Q,"Welcome! "),d=v(Q,"BR",{}),l=U(Q),n=v(Q,"SPAN",{class:!0});var q=D(n);a=le(q,f),q.forEach(E),Q.forEach(E),i=U(P),c=v(P,"P",{class:!0});var L=D(c);m=v(L,"SPAN",{class:!0});var G=D(m);b=le(G,h),G.forEach(E),O=le(L," Edit your Quizzes"),L.forEach(E),N=U(P),ne(S.$$.fragment,P),R=U(P),I=v(P,"BUTTON",{class:!0,"data-svelte-h":!0}),H(I)!=="svelte-4xyef8"&&(I.textContent=k),P.forEach(E),this.h()},h(){u(n,"class","font-semibold"),u(t,"class","mx-auto w-[50%] text-xl text-center"),u(m,"class","font-semibold"),u(c,"class","mx-auto w-[50%] text-center"),u(I,"class","bg-slate-300 border border-transparent w-[15%] mx-auto rounded-lg py-1 transition ease-in hover:bg-slate-500 hover:border-slate-700 hover:border-[1px]"),u(e,"class","bg-slate-200 w-[50%] h-[80vh] mx-auto flex flex-col justify-center gap-4")},m(z,P){F(z,e,P),o(e,t),o(t,r),o(t,d),o(t,l),o(t,n),o(n,a),o(e,i),o(e,c),o(c,m),o(m,b),o(c,O),o(e,N),ae(S,e,null),o(e,R),o(e,I),y=!0,w||(p=M(I,"click",s[11]),w=!0)},p(z,P){var q,L,G,$,J;(!y||P&1)&&f!==(f=((q=z[0].data.user)==null?void 0:q.email)+"")&&he(a,f),(!y||P&65)&&h!==(h=(((L=z[6])==null?void 0:L.username)||((J=($=(G=z[0])==null?void 0:G.data)==null?void 0:$.user)==null?void 0:J.email))+"")&&he(b,h);const Q={};P&1&&(Q.userInfo=z[0]),S.$set(Q)},i(z){y||(X(S.$$.fragment,z),y=!0)},o(z){Z(S.$$.fragment,z),y=!1},d(z){z&&E(e),oe(S),w=!1,p()}}}function Ke(s){let e,t,r,d;const l=[Je,Ge,Ye],n=[];function f(a,i){return a[0]!=null?0:a[1]?1:2}return t=f(s),r=n[t]=l[t](s),{c(){e=_("div"),r.c()},l(a){e=v(a,"DIV",{});var i=D(e);r.l(i),i.forEach(E)},m(a,i){F(a,e,i),n[t].m(e,null),d=!0},p(a,[i]){let c=t;t=f(a),t===c?n[t].p(a,i):(Te(),Z(n[c],1,1,()=>{n[c]=null}),Ue(),r=n[t],r?r.p(a,i):(r=n[t]=l[t](a),r.c()),X(r,1),r.m(e,null))},i(a){d||(X(r),d=!0)},o(a){Z(r),d=!1},d(a){a&&E(e),n[t].d()}}}function Xe(s,e,t){let r;Be(s,fe,p=>t(6,r=p));let d=!1,l=!1,n="",f="",a="",{sessionInfo:i}=e;Ee(async()=>{var g;const p=await K.auth.getUser();if(console.log(p),(p==null?void 0:p.data.user)!=null){t(0,i=p);const{data:C,error:x}=await K.from("user_table").select().eq("user_policy_id",(g=p.data.user)==null?void 0:g.id);x&&console.log("Login Table error",x),C&&fe.set({email:C[0].email,user_id:C[0].user_policy_id,username:C[0].username})}});function c(){t(1,d=!d)}function m(){return!l}async function h(p){var z;p.preventDefault();const{data:g,error:C}=await K.auth.signUp({email:f,password:a});C?console.log("Register error",C):console.log("User is signed in",g);const x=(z=g.user)==null?void 0:z.id,{data:V,error:B}=await K.from("user_table").insert([{user_policy_id:x,username:n,email:f}]);B?console.log("Error when creating User in DB",B.message):console.log("User is successfully created",V),t(3,n=""),t(4,f=""),t(5,a="")}async function b(p){var x,V,B;p.preventDefault();const{data:g,error:C}=await K.auth.signInWithPassword({email:f,password:a});if(C)console.log("login error",C.message);else if((x=g.user)!=null&&x.aud){const z=await K.auth.getUser();console.log(z),t(0,i=z),fe.set({email:(V=g.user)==null?void 0:V.email,user_id:(B=g.user)==null?void 0:B.id})}}async function O(p){p.preventDefault();const{error:g}=await K.auth.signOut();g&&console.log("signout Error",g.message);const C=await K.auth.getUser();t(0,i=C),Le(fe,r={email:"",user_id:""},r),c()}function N(){f=this.value,t(4,f)}function S(){a=this.value,t(5,a)}function R(){l=this.value,l=this.checked,t(2,l)}function I(){n=this.value,t(3,n)}function k(){f=this.value,t(4,f)}function y(){a=this.value,t(5,a)}function w(){l=this.value,l=this.checked,t(2,l)}return s.$$set=p=>{"sessionInfo"in p&&t(0,i=p.sessionInfo)},[i,d,l,n,f,a,r,c,m,h,b,O,N,S,R,I,k,y,w]}class nt extends _e{constructor(e){super(),ve(this,e,Xe,Ke,pe,{sessionInfo:0})}}export{nt as component};
