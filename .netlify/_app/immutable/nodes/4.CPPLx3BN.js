import{s as Xe,n as Ae,r as Me,c as Ge,o as Ke,A as Te}from"../chunks/scheduler.B0z7vNaY.js";import{S as Pe,i as Ye,e as h,s as L,t as K,c as _,a as E,k as B,f as F,d as w,b as W,v as a,g as de,h as r,C as G,D as Q,E as je,j as Ie,B as ze,l as We,m as $e,n as et,o as tt,p as nt,q as rt}from"../chunks/index.CG6jpaJ_.js";import{c as He}from"../chunks/supabase.ClzCg_sb.js";import{e as ie}from"../chunks/each.D6YF6ztN.js";import{u as ot}from"../chunks/userStore.B6yXy6i9.js";const j=[];for(let e=0;e<256;++e)j.push((e+256).toString(16).slice(1));function st(e,n=0){return(j[e[n+0]]+j[e[n+1]]+j[e[n+2]]+j[e[n+3]]+"-"+j[e[n+4]]+j[e[n+5]]+"-"+j[e[n+6]]+j[e[n+7]]+"-"+j[e[n+8]]+j[e[n+9]]+"-"+j[e[n+10]]+j[e[n+11]]+j[e[n+12]]+j[e[n+13]]+j[e[n+14]]+j[e[n+15]]).toLowerCase()}let Ce;const lt=new Uint8Array(16);function at(){if(!Ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ce=crypto.getRandomValues.bind(crypto)}return Ce(lt)}const it=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Je={randomUUID:it};function Ze(e,n,t){if(Je.randomUUID&&!n&&!e)return Je.randomUUID();e=e||{};const o=e.random||(e.rng||at)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,st(o)}function Re(e,n,t){const o=e.slice();return o[26]=n[t],o[28]=t,o}function Ve(e,n,t){const o=e.slice();return o[29]=n[t],o}function De(e,n,t){const o=e.slice();return o[29]=n[t],o[32]=n,o[33]=t,o}function Oe(e){let n,t,o,p,d,u,s="Correct?",b,m,I,i,R="Remove",C,k;function J(){e[16].call(t,e[32],e[33])}function y(){e[17].call(m,e[32],e[33])}function q(){return e[18](e[33])}return{c(){n=h("div"),t=h("input"),o=L(),p=h("div"),d=h("label"),u=h("strong"),u.textContent=s,b=L(),m=h("input"),I=L(),i=h("button"),i.textContent=R,this.h()},l(z){n=_(z,"DIV",{class:!0});var c=E(n);t=_(c,"INPUT",{type:!0,class:!0,placeholder:!0}),o=F(c),p=_(c,"DIV",{class:!0});var x=E(p);d=_(x,"LABEL",{class:!0});var v=E(d);u=_(v,"STRONG",{"data-svelte-h":!0}),B(u)!=="svelte-1hiv453"&&(u.textContent=s),b=F(v),m=_(v,"INPUT",{class:!0,type:!0}),v.forEach(w),I=F(x),i=_(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(i)!=="svelte-7prqjp"&&(i.textContent=R),x.forEach(w),c.forEach(w),this.h()},h(){a(t,"type","text"),a(t,"class","border p-2 rounded w-[25%] "),a(t,"placeholder","Answer"),t.required=!0,a(m,"class","m-auto"),a(m,"type","checkbox"),a(d,"class","flex flex-col"),a(i,"class","bg-slate-500 py-1 px-2 border border-transparent rounded transition ease-in hover:bg-slate-200 hover:border-[1px] hover:border-black "),a(i,"type","button"),a(p,"class","flex flex-row justify-self-center mx-2 gap-4"),a(n,"class","mb-2 flex flex-row items-center justify-center ")},m(z,c){de(z,n,c),r(n,t),G(t,e[29].answer),r(n,o),r(n,p),r(p,d),r(d,u),r(d,b),r(d,m),m.checked=e[29].is_correct,r(p,I),r(p,i),C||(k=[Q(t,"input",J),Q(m,"change",y),Q(i,"click",q)],C=!0)},p(z,c){e=z,c[0]&32&&t.value!==e[29].answer&&G(t,e[29].answer),c[0]&32&&(m.checked=e[29].is_correct)},d(z){z&&w(n),C=!1,Me(k)}}}function Se(e){let n,t=e[29].answer+"",o,p,d=(e[29].is_correct?"Correct".toUpperCase():"Incorrect")+"",u;return{c(){n=h("li"),o=K(t),p=K(" -  "),u=K(d)},l(s){n=_(s,"LI",{});var b=E(n);o=W(b,t),p=W(b," -  "),u=W(b,d),b.forEach(w)},m(s,b){de(s,n,b),r(n,o),r(n,p),r(n,u)},p(s,b){b[0]&4&&t!==(t=s[29].answer+"")&&Ie(o,t),b[0]&4&&d!==(d=(s[29].is_correct?"Correct".toUpperCase():"Incorrect")+"")&&Ie(u,d)},d(s){s&&w(n)}}}function Be(e){let n,t,o=e[28]+1+"",p,d,u=e[26].question_text+"",s,b,m,I,i,R="Remove",C,k,J,y=ie(e[26].question_answers),q=[];for(let c=0;c<y.length;c+=1)q[c]=Se(Ve(e,y,c));function z(){return e[19](e[28])}return{c(){n=h("li"),t=h("strong"),p=K(o),d=K(". "),s=K(u),b=L(),m=h("ul");for(let c=0;c<q.length;c+=1)q[c].c();I=L(),i=h("button"),i.textContent=R,C=L(),this.h()},l(c){n=_(c,"LI",{class:!0});var x=E(n);t=_(x,"STRONG",{});var v=E(t);p=W(v,o),d=W(v,". "),s=W(v,u),v.forEach(w),b=F(x),m=_(x,"UL",{});var U=E(m);for(let X=0;X<q.length;X+=1)q[X].l(U);U.forEach(w),I=F(x),i=_(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(i)!=="svelte-1thsjfr"&&(i.textContent=R),C=F(x),x.forEach(w),this.h()},h(){a(i,"class","bg-slate-500 h-[10%] py-1 px-2 border border-transparent rounded transition ease-in hover:bg-slate-200 hover:border-[1px] hover:border-black "),a(i,"type","button"),a(n,"class","flex flex-row items-center justify-around")},m(c,x){de(c,n,x),r(n,t),r(t,p),r(t,d),r(t,s),r(n,b),r(n,m);for(let v=0;v<q.length;v+=1)q[v]&&q[v].m(m,null);r(n,I),r(n,i),r(n,C),k||(J=Q(i,"click",z),k=!0)},p(c,x){if(e=c,x[0]&4&&u!==(u=e[26].question_text+"")&&Ie(s,u),x[0]&4){y=ie(e[26].question_answers);let v;for(v=0;v<y.length;v+=1){const U=Ve(e,y,v);q[v]?q[v].p(U,x):(q[v]=Se(U),q[v].c(),q[v].m(m,null))}for(;v<q.length;v+=1)q[v].d(1);q.length=y.length}},d(c){c&&w(n),ze(q,c),k=!1,J()}}}function ut(e){let n,t,o,p,d="Form Name:",u,s,b,m,I,i,R,C,k,J=Qe(e[0])+"",y,q,z,c,x="Add Question:",v,U,X,M,fe="Answers:",ue,ne,O,g,V="+ Add Answer",P,Z,ce="+ Add Question",re,oe,se,D,Y,$,Ee="Question list",qe,H,we,he,ye,ee,xe,ke,le=ie(e[5]),A=[];for(let f=0;f<le.length;f+=1)A[f]=Oe(De(e,le,f));let ae=ie(e[2]),T=[];for(let f=0;f<ae.length;f+=1)T[f]=Be(Re(e,ae,f));return{c(){n=h("div"),t=h("form"),o=h("div"),p=h("label"),p.textContent=d,u=L(),s=h("input"),b=L(),m=h("section"),I=h("div"),i=h("input"),R=L(),C=h("div"),k=h("p"),y=K(J),q=L(),z=h("div"),c=h("label"),c.textContent=x,v=L(),U=h("input"),X=L(),M=h("h3"),M.textContent=fe,ue=L();for(let f=0;f<A.length;f+=1)A[f].c();ne=L(),O=h("div"),g=h("button"),g.textContent=V,P=L(),Z=h("button"),Z.textContent=ce,re=L(),oe=h("hr"),se=L(),D=h("form"),Y=h("section"),$=h("h2"),$.textContent=Ee,qe=L(),H=h("button"),we=K("Create Quiz"),ye=L(),ee=h("ul");for(let f=0;f<T.length;f+=1)T[f].c();this.h()},l(f){n=_(f,"DIV",{});var N=E(n);t=_(N,"FORM",{});var l=E(t);o=_(l,"DIV",{class:!0});var S=E(o);p=_(S,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(p)!=="svelte-1okiyd0"&&(p.textContent=d),u=F(S),s=_(S,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),S.forEach(w),b=F(l),m=_(l,"SECTION",{class:!0});var _e=E(m);I=_(_e,"DIV",{class:!0});var pe=E(I);i=_(pe,"INPUT",{type:!0,class:!0,"aria-label":!0}),R=F(pe),C=_(pe,"DIV",{});var Ue=E(C);k=_(Ue,"P",{});var Le=E(k);y=W(Le,J),Le.forEach(w),Ue.forEach(w),pe.forEach(w),q=F(_e),z=_(_e,"DIV",{class:!0});var me=E(z);c=_(me,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),B(c)!=="svelte-jve1zm"&&(c.textContent=x),v=F(me),U=_(me,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),me.forEach(w),_e.forEach(w),X=F(l),M=_(l,"H3",{class:!0,"data-svelte-h":!0}),B(M)!=="svelte-1tdq34o"&&(M.textContent=fe),ue=F(l);for(let te=0;te<A.length;te+=1)A[te].l(l);ne=F(l),O=_(l,"DIV",{class:!0});var be=E(O);g=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),B(g)!=="svelte-340v3j"&&(g.textContent=V),P=F(be),Z=_(be,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(Z)!=="svelte-reni1w"&&(Z.textContent=ce),be.forEach(w),l.forEach(w),re=F(N),oe=_(N,"HR",{class:!0}),se=F(N),D=_(N,"FORM",{});var ve=E(D);Y=_(ve,"SECTION",{class:!0});var ge=E(Y);$=_(ge,"H2",{class:!0,"data-svelte-h":!0}),B($)!=="svelte-1iv37l0"&&($.textContent=Ee),qe=F(ge),H=_(ge,"BUTTON",{type:!0,class:!0});var Fe=E(H);we=W(Fe,"Create Quiz"),Fe.forEach(w),ge.forEach(w),ye=F(ve),ee=_(ve,"UL",{class:!0});var Ne=E(ee);for(let te=0;te<T.length;te+=1)T[te].l(Ne);Ne.forEach(w),ve.forEach(w),N.forEach(w),this.h()},h(){a(p,"class","m-auto my-2"),a(p,"for","question"),a(s,"type","text"),a(s,"id","question"),a(s,"class","border p-2 rounded m-auto w-[100%]"),a(s,"placeholder","Enter your question"),s.required=!0,a(o,"class","w-[25%] text-center m-auto"),a(i,"type","color"),a(i,"class","p-2 rounded m-auto w-[100%]"),a(i,"aria-label","Select a color"),a(I,"class","flex flex-col"),a(c,"class","m-auto my-2"),a(c,"for","question"),a(U,"type","text"),a(U,"id","question"),a(U,"class","border p-2 rounded m-auto w-[100%]"),a(U,"placeholder","Enter your question"),U.required=!0,a(z,"class","flex flex-col"),a(m,"class","flex flex-row justify-center gap-4"),a(M,"class","text-center my-2"),a(g,"class","bg-slate-100 w-[35%] py-1 rounded border border-transparent m-auto transition ease-in-out hover:bg-slate-500 hover:border-black hover:border-[1px]"),a(Z,"type","submit"),a(Z,"class","mt-4 bg-slate-100 w-[25%] m-auto py-1 rounded border border-transparent transition ease-in-out hover:bg-slate-500 hover:border-black hover:border-[1px]"),a(O,"class","flex flex-col"),a(oe,"class","my-4"),a($,"class","text-center mb-4"),a(H,"type","submit"),a(H,"class",he=e[1]?"mb-4 border border-transparent transition ease-in bg-green-300 py-1 px-2 rounded":"mb-4 border border-transparent bg-slate-500 py-1 px-2 rounded transition ease-in hover:bg-slate-200 hover:border-[1px] hover:border-black  "),a(Y,"class","flex flex-row justify-center gap-4"),a(ee,"class","w-[40%] h-[10rem] overflow-y-auto m-auto bg-slate-100")},m(f,N){de(f,n,N),r(n,t),r(t,o),r(o,p),r(o,u),r(o,s),G(s,e[4]),r(t,b),r(t,m),r(m,I),r(I,i),G(i,e[0]),r(I,R),r(I,C),r(C,k),r(k,y),r(m,q),r(m,z),r(z,c),r(z,v),r(z,U),G(U,e[3]),r(t,X),r(t,M),r(t,ue);for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(t,null);r(t,ne),r(t,O),r(O,g),r(O,P),r(O,Z),r(n,re),r(n,oe),r(n,se),r(n,D),r(D,Y),r(Y,$),r(Y,qe),r(Y,H),r(H,we),r(D,ye),r(D,ee);for(let l=0;l<T.length;l+=1)T[l]&&T[l].m(ee,null);xe||(ke=[Q(s,"input",e[13]),Q(i,"input",e[14]),Q(U,"input",e[15]),Q(g,"click",e[8]),Q(t,"submit",je(e[9])),Q(D,"submit",je(e[10]))],xe=!0)},p(f,N){if(N[0]&16&&s.value!==f[4]&&G(s,f[4]),N[0]&1&&G(i,f[0]),N[0]&1&&J!==(J=Qe(f[0])+"")&&Ie(y,J),N[0]&8&&U.value!==f[3]&&G(U,f[3]),N[0]&96){le=ie(f[5]);let l;for(l=0;l<le.length;l+=1){const S=De(f,le,l);A[l]?A[l].p(S,N):(A[l]=Oe(S),A[l].c(),A[l].m(t,ne))}for(;l<A.length;l+=1)A[l].d(1);A.length=le.length}if(N[0]&2&&he!==(he=f[1]?"mb-4 border border-transparent transition ease-in bg-green-300 py-1 px-2 rounded":"mb-4 border border-transparent bg-slate-500 py-1 px-2 rounded transition ease-in hover:bg-slate-200 hover:border-[1px] hover:border-black  ")&&a(H,"class",he),N[0]&132){ae=ie(f[2]);let l;for(l=0;l<ae.length;l+=1){const S=Re(f,ae,l);T[l]?T[l].p(S,N):(T[l]=Be(S),T[l].c(),T[l].m(ee,null))}for(;l<T.length;l+=1)T[l].d(1);T.length=ae.length}},i:Ae,o:Ae,d(f){f&&w(n),ze(A,f),ze(T,f),xe=!1,Me(ke)}}}function Qe(e){return`Selected ${e}`}function ct(e,n,t){let o;Ge(e,ot,g=>t(21,o=g));let p="#ff0000",{quizFormId:d}=n,{questionFormLength:u}=n;const m=He("https://vzcllffexqjuhpsvbmtw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6Y2xsZmZleHFqdWhwc3ZibXR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjIzMTUyNjcsImV4cCI6MjAzNzg5MTI2N30.qBJD8-lbXfZhZX3pxhI2lPgAkdL9oZ8mzJNX8LwGYrA");let I=!1;var i=Ze();function R(){return i=Ze(),i}let C=[],k="",J="",y=[{answer:"",is_correct:!1,clicked:!1,question_ans_id:i,answer_id:u++}];function q(g){t(5,y=y.filter((V,P)=>P!==g))}function z(g){t(2,C=C.filter((V,P)=>P!==g))}function c(){t(5,y=[...y,{answer:"",is_correct:!1,clicked:!1,answer_id:t(11,u++,u),question_ans_id:i}])}function x(){k&&y.length>0&&(t(2,C=[...C,{question_id:i,question_text:k,question_answers:y.map(g=>({...g})),creator_id:"JAVA",form_id:d}]),t(1,I=!0),t(3,k=""),t(5,y=[{answer:"",is_correct:!1,clicked:!1,answer_id:t(11,u++,u),question_ans_id:R()}]))}async function v(){if(I){const{data:g,error:V}=await m.from("quizzes_table").insert({creator_id:"JAVA",quiz_name:J,color_hex:p,user_policy_id:o==null?void 0:o.user_id}).select();if(V&&console.log("Quizzes Table Error",V),g){let P=g[0].quiz_id;C.forEach(async Z=>{const{data:ce,error:re}=await m.from("question_table").insert({creator_id:Z.creator_id,question_text:Z.question_text,form_id:P,question_id:Z.question_id}).select();if(re&&console.log("Question table Error",re),ce){let oe=ce[0].question_id;Z.question_answers.forEach(async se=>{const{error:D}=await m.from("question_answers").insert({question_ans_id:oe,is_correct:se.is_correct,answer:se.answer,clicked:!1});D&&console.log("Answer table Error",D)})}}),t(3,k=""),t(5,y=[{answer:"",is_correct:!1,clicked:!1,answer_id:t(11,u++,u),question_ans_id:R()}]),t(1,I=!1),t(4,J=""),t(2,C=[])}else return}}function U(){J=this.value,t(4,J)}function X(){p=this.value,t(0,p)}function M(){k=this.value,t(3,k)}function fe(g,V){g[V].answer=this.value,t(5,y)}function ue(g,V){g[V].is_correct=this.checked,t(5,y)}const ne=g=>q(g),O=g=>z(g);return e.$$set=g=>{"quizFormId"in g&&t(12,d=g.quizFormId),"questionFormLength"in g&&t(11,u=g.questionFormLength)},[p,I,C,k,J,y,q,z,c,x,v,u,d,U,X,M,fe,ue,ne,O]}class dt extends Pe{constructor(n){super(),Ye(this,n,ct,ut,Xe,{quizFormId:12,questionFormLength:11},null,[-1,-1])}}function ft(e){let n,t,o="Welcome and create a quiz",p,d,u;return d=new dt({props:{quizFormId:e[0],questionFormLength:e[1]}}),{c(){n=h("div"),t=h("h2"),t.textContent=o,p=L(),We(d.$$.fragment),this.h()},l(s){n=_(s,"DIV",{});var b=E(n);t=_(b,"H2",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1pmn6f5"&&(t.textContent=o),p=F(b),$e(d.$$.fragment,b),b.forEach(w),this.h()},h(){a(t,"class","text-center my-2 text-xl font-semibold")},m(s,b){de(s,n,b),r(n,t),r(n,p),et(d,n,null),u=!0},p(s,[b]){const m={};b&1&&(m.quizFormId=s[0]),b&2&&(m.questionFormLength=s[1]),d.$set(m)},i(s){u||(tt(d.$$.fragment,s),u=!0)},o(s){nt(d.$$.fragment,s),u=!1},d(s){s&&w(n),rt(d)}}}function ht(e,n,t){const d=He("https://vzcllffexqjuhpsvbmtw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6Y2xsZmZleHFqdWhwc3ZibXR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjIzMTUyNjcsImV4cCI6MjAzNzg5MTI2N30.qBJD8-lbXfZhZX3pxhI2lPgAkdL9oZ8mzJNX8LwGYrA");let u,s;async function b(){const{data:I,error:i}=await d.from("question_answers").select();i&&console.log(i),I&&(t(1,s=I.length+1),Te("questionFormLength",I.length))}async function m(){const{data:I,error:i}=await d.from("quizzes_table").select();i&&console.log(i),I&&(t(0,u=I.length+1),Te("quizFormId",I.length))}return Ke(()=>{m(),b()}),[u,s]}class gt extends Pe{constructor(n){super(),Ye(this,n,ht,ft,Xe,{})}}export{gt as component};
